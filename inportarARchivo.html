<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" 
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" >
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/importARchivo.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>Ficha técnica</title>
</head>
<body>
    <br>
    <header class="fixed w-100">
        <div class="usuarioOp d-flex justify-content-end">
            <img src="img/profile.png" alt="" >
            <p>Usuario</p>
            <a href="#">Cerrar sesión</a>
        </div>
    </header>

    <main>
        <div class="barraLateral fixed h-100">
            <a href="#"></a>
            </div>
            <section style="margin-top: 70px;
            margin-left: 200px;
        margin-right: 200px;
        
    align-items: center;
            ">
            <h3>Importacion de Archivos</h3>
            
        



        </section>
        <section style="margin-left: 200px;
        margin-right: 200px;
        
    align-items: center;" >
    <form action="php/llenado_Archivo_EF.php" method="post" enctype="multipart/form-data" onsubmit="return validarFormulario()">
        <input type="text" name="Nombre" id="Nombre">
        
        <input name="fichero" type="file" size="150" maxlength="150">
        <br>
        <br>
        <button type="submit">Insertar</button>
    </form>
            
        
        
        </section>
        
        
            <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js">
            </script>

            
            <script type="text/javascript">
                function genPDF(){
                    var doc = new jsPDF();
                    doc.text(20,20,"Este es un pdf")
                    doc.save('midocumento.pdf')
                }

                function validarFormulario() {
                    var nombre = document.getElementById("Nombre").value;
                    var archivoInput = document.getElementById("archivo");
                    var archivo = archivoInput.value;
                    var extension = archivo.split('.').pop().toLowerCase();
        
                    if (nombre === "") {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'Por favor, ingresa un nombre.',
                            })
                        //alert("Por favor, ingresa un nombre.");
                        return false;
                    }
        
                    if (archivo === "") {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'Por favor, selecciona un archivo.',
                            })
                        return false;
                    }
        
                    if (extension !== "pdf" && extension !== "doc" && extension !== "docx" && extension !== "xls" && extension !== "xlsx") {
                        
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'El archivo debe ser un PDF, Word o Excel.',
                            })
                        archivoInput.value = ""; // Vacía el campo de archivo
                        return false;
                    }
        
                    return true; // El formulario se enviará si se superan las validaciones.
                }
            </script>

          </button>
          </section>
          </form>
    </main>
    <script src="js/envia_FECH.js"></script>
    

    
</body>
</html>